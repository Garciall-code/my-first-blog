{% extends 'blog/base.html' %}

{% block content %}
    {% for post in posts %}
        {% if post.text|length > 600 or post.image %}
            <div class="post">
                <h2><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h2>
                <div class="date">
                    {{ post.published_date }}
                </div>
                <div class="read_more">
                    <a href="{% url 'post_detail' pk=post.pk %}">Read more</a>
                </div>
                <p>{{ post.text|safe }}</p>
                {% if post.image %}
                    <img src="{{ post.image.url }}" style="max-width:100%;">
                {% endif %}
            </div>
        {% else %}
            <div class="post_detail" style="max-height: max-content;">
                <h2><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h2>
                    <div class="date">
                        {{ post.published_date }}
                    </div>
                    <p>{{ post.text|safe }}</p>
            </div>
        {% endif %}
    {% endfor %}
{% endblock %}
